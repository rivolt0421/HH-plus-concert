{"openapi":"3.0.0","paths":{"/queue-token":{"post":{"operationId":"AppController_createToken","summary":"대기열 토큰 발급","parameters":[],"requestBody":{"required":true,"description":"userId가 \"0\"일 경우 User Not Exists 에러를 반환합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTokenDto"}}}},"responses":{"201":{"description":"토큰 발급 성공","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"queueNumber":{"type":"number"}}}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}}}},"/queue-position":{"get":{"operationId":"AppController_getQueuePosition","summary":"대기 번호 조회","parameters":[{"name":"X-Mock-Token-Fail","required":false,"in":"header","description":"이 헤더가 \"true\"로 설정되면 토큰 검증 실패를 시뮬레이션합니다.","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"Bearer token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"대기 번호 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"queueNumber":{"type":"number"},"estimatedWaitTime":{"type":"number"}}}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}]}},"/available-dates":{"get":{"operationId":"AppController_getAvailableDates","summary":"예약 가능 날짜 조회","parameters":[],"responses":{"200":{"description":"예약 가능 날짜 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","format":"date"}}}}}}}},"/available-seats":{"get":{"operationId":"AppController_getAvailableSeats","summary":"예약 가능 좌석 조회","parameters":[{"name":"date","required":true,"in":"query","description":"조회할 날짜. 형식: YYYY-MM-DD","schema":{"example":"2023-05-01","type":"string"}}],"responses":{"200":{"description":"예약 가능 좌석 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"type":"number"}}}}}},"security":[{"bearer":[]}]}},"/reserve-seat":{"post":{"operationId":"AppController_reserveSeat","summary":"좌석 예약 요청","parameters":[{"name":"X-Mock-Token-Fail","required":false,"in":"header","description":"이 헤더가 \"true\"로 설정되면 토큰 검증 실패를 시뮬레이션합니다.","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"Bearer token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"seatNumber가 13인 경우, 이미 예약된 좌석으로 간주하여 에러를 반환합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveSeatDto"}}}},"responses":{"201":{"description":"좌석 예약 성공","content":{"application/json":{"schema":{"type":"object","properties":{"reservationId":{"type":"string"},"expiresAt":{"type":"string","format":"date-time"}}}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"409":{"description":"이미 예약된 좌석","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}]}},"/process-payment":{"post":{"operationId":"AppController_processPayment","summary":"결제 처리","parameters":[{"name":"X-Mock-Token-Fail","required":false,"in":"header","description":"이 헤더가 \"true\"로 설정되면 토큰 검증 실패를 시뮬레이션합니다.","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"Bearer token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"예약 ID가 \"invalid\"인 경우 유효하지 않은 예약으로 간주합니다. 예약 ID가 \"duplicate\"인 경우 결제 정보 생성 실패로 간주합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessPaymentDto"}}}},"responses":{"201":{"description":"결제 처리 성공","content":{"application/json":{"schema":{"type":"object","properties":{"paymentId":{"type":"string"},"status":{"type":"string"}}}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"404":{"description":"유효한 예약 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"409":{"description":"결제 정보 생성 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}]}},"/balance/{userId}":{"get":{"operationId":"AppController_getBalance","summary":"잔액 조회","parameters":[{"name":"userId","required":true,"in":"path","description":"조회할 사용자의 ID. \"0\"일 경우 User Not Exists 에러를 반환합니다.","schema":{"example":"12345","type":"string"}}],"responses":{"200":{"description":"잔액 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string"},"balance":{"type":"number"}}}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}}}},"/charge-balance":{"post":{"operationId":"AppController_chargeBalance","summary":"잔액 충전","parameters":[],"requestBody":{"required":true,"description":"userId가 \"0\"일 경우 User Not Exists 에러를 반환합니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChargeBalanceDto"}}}},"responses":{"201":{"description":"잔액 충전 성공","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string"},"balance":{"type":"number"}}}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}}}}},"info":{"title":"Concert Ticketing API","description":"콘서트 티켓 예약 서비스를 위한 API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateTokenDto":{"type":"object","properties":{"userId":{"type":"string","example":"12345","description":"사용자 ID"}},"required":["userId"]},"ReserveSeatDto":{"type":"object","properties":{"date":{"type":"string","example":"2023-05-01","description":"예약 날짜"},"seatNumber":{"type":"number","example":15,"description":"좌석 번호"}},"required":["date","seatNumber"]},"ProcessPaymentDto":{"type":"object","properties":{"reservationId":{"type":"string","example":"mock_reservation_abc123","description":"예약 ID"},"amount":{"type":"number","example":50000,"description":"결제 금액"}},"required":["reservationId","amount"]},"ChargeBalanceDto":{"type":"object","properties":{"userId":{"type":"string","example":"12345","description":"사용자 ID"},"amount":{"type":"number","example":50000,"description":"충전 금액"}},"required":["userId","amount"]}}}}