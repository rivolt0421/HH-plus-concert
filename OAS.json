{"openapi":"3.0.0","paths":{"/queue/enter":{"post":{"operationId":"QueueController_enterQueue","summary":"대기열 토큰 발급","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnterQueueReq"}}}},"responses":{"201":{"description":"토큰 발급 성공","schema":{"type":"object","properties":{"token":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnterQueueRes"}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"tags":["대기열"]}},"/queue/position":{"get":{"operationId":"QueueController_getQueuePosition","summary":"대기 번호 조회","parameters":[],"responses":{"200":{"description":"대기 번호 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetQueuePositionRes"}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}],"tags":["대기열"]}},"/user/{userId}/point":{"get":{"operationId":"UserController_getPoint","summary":"잔액 조회","parameters":[{"name":"userId","required":true,"in":"path","schema":{"example":12,"type":"number"}}],"responses":{"200":{"description":"잔액 조회 성공","schema":{"type":"object","properties":{"userId":{"type":"number"},"balance":{"type":"number"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPointRes"}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"tags":["유저 포인트"]},"patch":{"operationId":"UserController_chargePoint","summary":"잔액 충전","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChargePointReq"}}}},"responses":{"201":{"description":"잔액 충전 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPointRes"}}}},"404":{"description":"유저 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"tags":["유저 포인트"]}},"/reservation/dates/available":{"get":{"operationId":"ReservationController_getAvailableDates","summary":"예약 가능 날짜 조회","parameters":[],"responses":{"200":{"description":"예약 가능 날짜 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAvailableDatesRes"}}}}},"tags":["예약"]}},"/reservation/seats/available":{"get":{"operationId":"ReservationController_getAvailableSeats","summary":"예약 가능 좌석 조회","parameters":[{"name":"date","required":true,"in":"query","description":"조회할 날짜. 형식: YYYY-MM-DD","schema":{"example":"2023-05-01","type":"string"}}],"responses":{"200":{"description":"예약 가능 좌석 조회 성공","schema":{"type":"object","properties":{"seats":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"number":{"type":"number"},"price":{"type":"number"}}}}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAvailableSeatsRes"}}}}},"security":[{"bearer":[]}],"tags":["예약"]}},"/reservation/seat":{"post":{"operationId":"ReservationController_reserveSeat","summary":"좌석 예약 요청","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveSeatReq"}}}},"responses":{"201":{"description":"좌석 예약 성공","schema":{"type":"object","properties":{"reservationId":{"type":"number"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveSeatRes"}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"409":{"description":"이미 예약된 좌석","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}],"tags":["예약"]}},"/reservation/payment":{"post":{"operationId":"ReservationController_completePayment","summary":"결제 처리","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompletePaymentReq"}}}},"responses":{"201":{"description":"결제 처리 성공","schema":{"type":"object","properties":{"paymentId":{"type":"number"},"status":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompletePaymentRes"}}}},"401":{"description":"토큰 검증 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"404":{"description":"유효한 예약 정보가 존재하지 않음","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}},"409":{"description":"결제 정보 생성 실패","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"message":{"type":"string"}}}}}}},"tags":["예약"]}}},"info":{"title":"Concert Ticketing API","description":"콘서트 티켓 예약 서비스를 위한 API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"EnterQueueReq":{"type":"object","properties":{"email":{"type":"string","example":"test@example.com","description":"이메일"},"password":{"type":"string","example":"password123","description":"비밀번호"}},"required":["email","password"]},"EnterQueueRes":{"type":"object","properties":{"token":{"type":"string","example":"token_abc123","description":"토큰"}},"required":["token"]},"GetQueuePositionRes":{"type":"object","properties":{"remainingCount":{"type":"number","example":12,"description":"내 앞에 몇 명 있는지"}},"required":["remainingCount"]},"GetPointRes":{"type":"object","properties":{"point":{"type":"number","example":50000,"description":"포인트 잔액"}},"required":["point"]},"ChargePointReq":{"type":"object","properties":{"userId":{"type":"number","example":12,"description":"사용자 ID"},"amount":{"type":"number","example":50000,"description":"충전 금액"}},"required":["userId","amount"]},"GetAvailableDatesRes":{"type":"object","properties":{"dates":{"example":["2023-05-01","2023-05-02","2023-05-03"],"description":"예약 가능한 날짜","type":"array","items":{"type":"string"}}},"required":["dates"]},"GetAvailableSeatsRes":{"type":"object","properties":{"seats":{"example":[{"id":1,"number":1,"price":10000}],"description":"예약 가능한 좌석 정보","type":"array","items":{"type":"string"}}},"required":["seats"]},"ReserveSeatReq":{"type":"object","properties":{"date":{"type":"string","example":"2023-05-01","description":"예약 날짜"},"seatNumber":{"type":"number","example":15,"description":"좌석 번호"}},"required":["date","seatNumber"]},"ReserveSeatRes":{"type":"object","properties":{"reservationId":{"type":"number","example":1,"description":"예약 ID"}},"required":["reservationId"]},"CompletePaymentReq":{"type":"object","properties":{"reservationId":{"type":"number","example":1,"description":"예약 ID"},"sessionId":{"type":"number","example":1,"description":"세션 ID"},"amount":{"type":"number","example":50000,"description":"결제 금액"},"paidAt":{"type":"number","example":1714857600,"description":"결제 일시"}},"required":["reservationId","sessionId","amount","paidAt"]},"CompletePaymentRes":{"type":"object","properties":{"paymentId":{"type":"number","example":1,"description":"결제 ID"},"status":{"type":"string","example":"PAID","description":"결제 상태"}},"required":["paymentId","status"]}}}}